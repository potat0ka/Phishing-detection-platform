{% extends "base.html" %}

{% block title %}Safety Tips - AI Phishing Detector{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header -->
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold">
            <i class="fas fa-graduation-cap text-warning me-3"></i>
            Phishing Safety Tips
        </h1>
        <p class="lead text-muted">
            Learn how to protect yourself from phishing attacks with these expert tips
        </p>
    </div>
    
    <!-- Quick Stats -->
    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="card border-0 shadow-sm text-center p-4">
                <i class="fas fa-lightbulb text-warning fs-2 mb-3"></i>
                <h4 class="fw-bold">{{ stats.total_tips if stats else '45+' }}</h4>
                <p class="text-muted mb-0">Security tips available</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm text-center p-4">
                <i class="fas fa-envelope text-primary fs-2 mb-3"></i>
                <h4 class="fw-bold">{{ stats.email_count if stats else '15+' }}</h4>
                <p class="text-muted mb-0">Email security tips</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm text-center p-4">
                <i class="fas fa-link text-info fs-2 mb-3"></i>
                <h4 class="fw-bold">{{ stats.url_count if stats else '12+' }}</h4>
                <p class="text-muted mb-0">URL safety tips</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm text-center p-4">
                <i class="fas fa-shield-alt text-success fs-2 mb-3"></i>
                <h4 class="fw-bold">{{ stats.general_count if stats else '18+' }}</h4>
                <p class="text-muted mb-0">General security tips</p>
            </div>
        </div>
    </div>
    
    <!-- Trending Threats Alert -->
    {% if trending_threats %}
    <div class="alert alert-warning border-0 shadow-sm mb-5">
        <div class="d-flex align-items-start">
            <i class="fas fa-exclamation-triangle text-warning fs-4 me-3 mt-1"></i>
            <div>
                <h5 class="alert-heading fw-bold mb-3">Current Threat Landscape</h5>
                <div class="row g-3">
                    {% for threat in trending_threats %}
                    <div class="col-md-6">
                        <div class="p-3 bg-light rounded">
                            <h6 class="fw-bold text-dark mb-2">{{ threat.threat }}</h6>
                            <p class="mb-2 small">{{ threat.description }}</p>
                            <small class="text-muted">
                                <strong>Status:</strong> {{ threat.prevalence }} | 
                                <strong>Mitigation:</strong> {{ threat.mitigation }}
                            </small>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% if stats %}
                <small class="text-muted d-block mt-2">
                    <i class="fas fa-clock me-1"></i>Last updated: {{ stats.last_updated }}
                </small>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- Animated Security Tips Carousel -->
    <div class="mb-5">
        <div class="text-center mb-4">
            <h3 class="fw-bold">
                <i class="fas fa-magic text-primary me-2"></i>
                Featured Security Tips
            </h3>
            <p class="text-muted">Essential tips that could protect you today</p>
        </div>
        
        <div id="securityTipsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#securityTipsCarousel" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#securityTipsCarousel" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#securityTipsCarousel" data-bs-slide-to="2"></button>
                <button type="button" data-bs-target="#securityTipsCarousel" data-bs-slide-to="3"></button>
                <button type="button" data-bs-target="#securityTipsCarousel" data-bs-slide-to="4"></button>
            </div>
            
            <div class="carousel-inner">
                <!-- Slide 1: Email Security -->
                <div class="carousel-item active">
                    <div class="card border-0 shadow-lg bg-gradient" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 300px;">
                        <div class="card-body d-flex align-items-center text-white p-5">
                            <div class="row w-100 align-items-center">
                                <div class="col-md-6">
                                    <div class="security-tip-icon mb-3">
                                        <i class="fas fa-envelope-open-text fa-4x text-warning animate__animated animate__pulse animate__infinite"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Verify Before You Trust</h4>
                                    <p class="lead mb-4">Always verify urgent email requests through a separate communication channel. Attackers create false urgency to bypass your security awareness.</p>
                                    <div class="d-flex align-items-center">
                                        <div class="tip-priority badge bg-warning text-dark me-3">High Priority</div>
                                        <small class="opacity-75">Email Security</small>
                                    </div>
                                </div>
                                <div class="col-md-6 text-center">
                                    <div class="security-visual">
                                        <svg width="200" height="150" viewBox="0 0 200 150" class="animate__animated animate__fadeInRight">
                                            <!-- Email icon with security shield -->
                                            <rect x="30" y="40" width="120" height="80" rx="8" fill="#ffffff" fill-opacity="0.2" stroke="#ffffff" stroke-width="2"/>
                                            <path d="M30 50 L90 85 L150 50" stroke="#ffffff" stroke-width="3" fill="none" stroke-linecap="round"/>
                                            <circle cx="160" cy="30" r="20" fill="#ffc107" stroke="#ffffff" stroke-width="2"/>
                                            <path d="M152 30 L158 36 L168 26" stroke="#ffffff" stroke-width="3" fill="none" stroke-linecap="round"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 2: URL Safety -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-lg bg-gradient" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); min-height: 300px;">
                        <div class="card-body d-flex align-items-center text-white p-5">
                            <div class="row w-100 align-items-center">
                                <div class="col-md-6">
                                    <div class="security-tip-icon mb-3">
                                        <i class="fas fa-link fa-4x text-warning animate__animated animate__bounce animate__infinite"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Hover Before You Click</h4>
                                    <p class="lead mb-4">Always hover over links to see the real destination. Look for misspellings, suspicious domains, or URL shorteners that hide the true location.</p>
                                    <div class="d-flex align-items-center">
                                        <div class="tip-priority badge bg-warning text-dark me-3">High Priority</div>
                                        <small class="opacity-75">URL Safety</small>
                                    </div>
                                </div>
                                <div class="col-md-6 text-center">
                                    <div class="security-visual">
                                        <svg width="200" height="150" viewBox="0 0 200 150" class="animate__animated animate__fadeInLeft">
                                            <!-- Browser with URL bar -->
                                            <rect x="20" y="20" width="160" height="110" rx="8" fill="#ffffff" fill-opacity="0.2" stroke="#ffffff" stroke-width="2"/>
                                            <rect x="30" y="35" width="140" height="20" rx="4" fill="#ffffff" fill-opacity="0.3"/>
                                            <circle cx="40" cy="45" r="3" fill="#ff4757"/>
                                            <circle cx="50" cy="45" r="3" fill="#ffa502"/>
                                            <circle cx="60" cy="45" r="3" fill="#2ed573"/>
                                            <!-- Cursor pointer -->
                                            <path d="M100 80 L108 88 L105 92 L110 96 L106 98 L101 94 L98 97 Z" fill="#ffffff"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 3: Multi-Factor Authentication -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-lg bg-gradient" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); min-height: 300px;">
                        <div class="card-body d-flex align-items-center text-white p-5">
                            <div class="row w-100 align-items-center">
                                <div class="col-md-6">
                                    <div class="security-tip-icon mb-3">
                                        <i class="fas fa-mobile-alt fa-4x text-warning animate__animated animate__swing animate__infinite"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Enable Two-Factor Authentication</h4>
                                    <p class="lead mb-4">Add an extra layer of security to all your important accounts. Use authenticator apps instead of SMS when possible for better protection.</p>
                                    <div class="d-flex align-items-center">
                                        <div class="tip-priority badge bg-warning text-dark me-3">High Priority</div>
                                        <small class="opacity-75">General Security</small>
                                    </div>
                                </div>
                                <div class="col-md-6 text-center">
                                    <div class="security-visual">
                                        <svg width="200" height="150" viewBox="0 0 200 150" class="animate__animated animate__zoomIn">
                                            <!-- Phone with shield -->
                                            <rect x="70" y="30" width="60" height="100" rx="8" fill="#ffffff" fill-opacity="0.2" stroke="#ffffff" stroke-width="2"/>
                                            <rect x="75" y="40" width="50" height="70" rx="4" fill="#ffffff" fill-opacity="0.1"/>
                                            <circle cx="100" cy="120" r="4" fill="#ffffff" fill-opacity="0.5"/>
                                            <!-- Shield overlay -->
                                            <path d="M100 50 L110 55 L110 75 L100 85 L90 75 L90 55 Z" fill="#ffc107" stroke="#ffffff" stroke-width="1"/>
                                            <path d="M96 65 L99 68 L106 61" stroke="#ffffff" stroke-width="2" fill="none" stroke-linecap="round"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 4: Password Security -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-lg bg-gradient" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); min-height: 300px;">
                        <div class="card-body d-flex align-items-center text-white p-5">
                            <div class="row w-100 align-items-center">
                                <div class="col-md-6">
                                    <div class="security-tip-icon mb-3">
                                        <i class="fas fa-key fa-4x text-white animate__animated animate__tada animate__infinite"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Use Unique Strong Passwords</h4>
                                    <p class="lead mb-4">Create unique passwords for each account using a password manager. Include uppercase, lowercase, numbers, and symbols for maximum security.</p>
                                    <div class="d-flex align-items-center">
                                        <div class="tip-priority badge bg-light text-dark me-3">High Priority</div>
                                        <small class="opacity-75">General Security</small>
                                    </div>
                                </div>
                                <div class="col-md-6 text-center">
                                    <div class="security-visual">
                                        <svg width="200" height="150" viewBox="0 0 200 150" class="animate__animated animate__rotateIn">
                                            <!-- Lock icon -->
                                            <rect x="75" y="70" width="50" height="40" rx="4" fill="#ffffff" fill-opacity="0.2" stroke="#ffffff" stroke-width="2"/>
                                            <path d="M85 70 L85 55 Q85 45 100 45 Q115 45 115 55 L115 70" stroke="#ffffff" stroke-width="3" fill="none"/>
                                            <circle cx="100" cy="85" r="4" fill="#ffffff"/>
                                            <rect x="98" y="85" width="4" height="15" fill="#ffffff"/>
                                            <!-- Key symbols around -->
                                            <text x="60" y="45" fill="#ffffff" font-family="monospace" font-size="12">A1</text>
                                            <text x="130" y="45" fill="#ffffff" font-family="monospace" font-size="12">$9</text>
                                            <text x="60" y="120" fill="#ffffff" font-family="monospace" font-size="12">z#</text>
                                            <text x="130" y="120" fill="#ffffff" font-family="monospace" font-size="12">X7</text>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 5: AI-Powered Threats -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-lg bg-gradient" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); min-height: 300px;">
                        <div class="card-body d-flex align-items-center text-dark p-5">
                            <div class="row w-100 align-items-center">
                                <div class="col-md-6">
                                    <div class="security-tip-icon mb-3">
                                        <i class="fas fa-robot fa-4x text-primary animate__animated animate__heartBeat animate__infinite"></i>
                                    </div>
                                    <h4 class="fw-bold mb-3">Beware of AI-Generated Content</h4>
                                    <p class="lead mb-4">Modern attackers use AI to create convincing phishing content with perfect grammar. Focus on verification through independent channels rather than content quality.</p>
                                    <div class="d-flex align-items-center">
                                        <div class="tip-priority badge bg-danger text-white me-3">Trending Threat</div>
                                        <small class="text-muted">AI Security</small>
                                    </div>
                                </div>
                                <div class="col-md-6 text-center">
                                    <div class="security-visual">
                                        <svg width="200" height="150" viewBox="0 0 200 150" class="animate__animated animate__pulse">
                                            <!-- AI Brain -->
                                            <circle cx="100" cy="75" r="40" fill="#007bff" fill-opacity="0.2" stroke="#007bff" stroke-width="2"/>
                                            <circle cx="90" cy="70" r="3" fill="#007bff"/>
                                            <circle cx="110" cy="70" r="3" fill="#007bff"/>
                                            <path d="M90 85 Q100 90 110 85" stroke="#007bff" stroke-width="2" fill="none"/>
                                            <!-- Neural connections -->
                                            <line x1="70" y1="60" x2="85" y2="70" stroke="#007bff" stroke-width="1"/>
                                            <line x1="130" y1="60" x2="115" y2="70" stroke="#007bff" stroke-width="1"/>
                                            <line x1="70" y1="90" x2="85" y2="80" stroke="#007bff" stroke-width="1"/>
                                            <line x1="130" y1="90" x2="115" y2="80" stroke="#007bff" stroke-width="1"/>
                                            <circle cx="70" cy="60" r="2" fill="#007bff"/>
                                            <circle cx="130" cy="60" r="2" fill="#007bff"/>
                                            <circle cx="70" cy="90" r="2" fill="#007bff"/>
                                            <circle cx="130" cy="90" r="2" fill="#007bff"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="carousel-control-prev" type="button" data-bs-target="#securityTipsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#securityTipsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    
    <!-- Tips Tabs -->
    <div class="card border-0 shadow-lg">
        <div class="card-header bg-transparent border-0 p-4">
            <ul class="nav nav-tabs card-header-tabs" id="tipsTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="email-tab" data-bs-toggle="tab" 
                            data-bs-target="#email-tips" type="button">
                        <i class="fas fa-envelope me-2"></i>Email Tips
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="url-tab" data-bs-toggle="tab" 
                            data-bs-target="#url-tips" type="button">
                        <i class="fas fa-link me-2"></i>URL Safety
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="general-tab" data-bs-toggle="tab" 
                            data-bs-target="#general-tips" type="button">
                        <i class="fas fa-shield-alt me-2"></i>General Safety
                    </button>
                </li>
            </ul>
        </div>
        
        <div class="card-body p-0">
            <div class="tab-content" id="tipsTabContent">
                <!-- Email Tips -->
                <div class="tab-pane fade show active" id="email-tips" role="tabpanel">
                    <div class="p-4">
                        <h5 class="mb-4">
                            <i class="fas fa-envelope text-info me-2"></i>
                            Email Phishing Prevention
                        </h5>
                        <div class="row g-4">
                            {% for tip in email_tips %}
                            <div class="col-md-6">
                                <div class="tip-card card h-100 border-0 shadow-sm">
                                    <div class="card-body p-4">
                                        <div class="d-flex align-items-start">
                                            <div class="tip-number me-3">
                                                <span class="badge bg-info rounded-circle p-2">
                                                    {{ loop.index }}
                                                </span>
                                            </div>
                                            <div>
                                                <h6 class="fw-bold mb-2">{{ tip.title }}</h6>
                                                <p class="text-muted mb-0">{{ tip.content }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% if not email_tips %}
                            <div class="col-12 text-center py-5">
                                <i class="fas fa-inbox text-muted fs-1 mb-3"></i>
                                <h5 class="text-muted">No email tips available</h5>
                                <p class="text-muted">Email safety tips will appear here.</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <!-- URL Tips -->
                <div class="tab-pane fade" id="url-tips" role="tabpanel">
                    <div class="p-4">
                        <h5 class="mb-4">
                            <i class="fas fa-link text-primary me-2"></i>
                            URL and Website Safety
                        </h5>
                        <div class="row g-4">
                            {% for tip in url_tips %}
                            <div class="col-md-6">
                                <div class="tip-card card h-100 border-0 shadow-sm">
                                    <div class="card-body p-4">
                                        <div class="d-flex align-items-start">
                                            <div class="tip-number me-3">
                                                <span class="badge bg-primary rounded-circle p-2">
                                                    {{ loop.index }}
                                                </span>
                                            </div>
                                            <div>
                                                <h6 class="fw-bold mb-2">{{ tip.title }}</h6>
                                                <p class="text-muted mb-0">{{ tip.content }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% if not url_tips %}
                            <div class="col-12 text-center py-5">
                                <i class="fas fa-link text-muted fs-1 mb-3"></i>
                                <h5 class="text-muted">No URL tips available</h5>
                                <p class="text-muted">URL safety tips will appear here.</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <!-- General Tips -->
                <div class="tab-pane fade" id="general-tips" role="tabpanel">
                    <div class="p-4">
                        <h5 class="mb-4">
                            <i class="fas fa-shield-alt text-success me-2"></i>
                            General Security Best Practices
                        </h5>
                        <div class="row g-4">
                            {% for tip in general_tips %}
                            <div class="col-md-6">
                                <div class="tip-card card h-100 border-0 shadow-sm">
                                    <div class="card-body p-4">
                                        <div class="d-flex align-items-start">
                                            <div class="tip-number me-3">
                                                <span class="badge bg-success rounded-circle p-2">
                                                    {{ loop.index }}
                                                </span>
                                            </div>
                                            <div>
                                                <h6 class="fw-bold mb-2">{{ tip.title }}</h6>
                                                <p class="text-muted mb-0">{{ tip.content }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% if not general_tips %}
                            <div class="col-12 text-center py-5">
                                <i class="fas fa-shield-alt text-muted fs-1 mb-3"></i>
                                <h5 class="text-muted">No general tips available</h5>
                                <p class="text-muted">General safety tips will appear here.</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Simple Warning Signs Guide -->
    <div class="card border-0 shadow-lg mt-5">
        <div class="card-body p-5">
            <div class="text-center mb-4">
                <h4 class="fw-bold">
                    <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                    Common Warning Signs
                </h4>
                <p class="text-muted">Learn to recognize these red flags in emails and messages</p>
            </div>
            
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="warning-sign card border-danger h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-clock text-danger fs-1 mb-3"></i>
                            <h5 class="fw-bold text-danger">Urgent Time Pressure</h5>
                            <p class="text-muted">Messages saying "act now" or "expires today" try to make you panic and not think carefully.</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="warning-sign card border-warning h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-link text-warning fs-1 mb-3"></i>
                            <h5 class="fw-bold text-warning">Suspicious Links</h5>
                            <p class="text-muted">Look for misspelled domains like "payp4l.com" instead of "paypal.com".</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="warning-sign card border-info h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-user-secret text-info fs-1 mb-3"></i>
                            <h5 class="fw-bold text-info">Generic Greetings</h5>
                            <p class="text-muted">Real companies use your name, not "Dear Customer" or "Dear User".</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="warning-sign card border-secondary h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-key text-secondary fs-1 mb-3"></i>
                            <h5 class="fw-bold text-secondary">Asking for Passwords</h5>
                            <p class="text-muted">Legitimate companies never ask for passwords or personal info via email.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Call to Action -->
    <div class="text-center mt-5">
        <div class="card border-0 shadow-sm bg-primary text-white">
            <div class="card-body p-5">
                <h3 class="fw-bold mb-3">Ready to Test Your Content?</h3>
                <p class="lead mb-4">Use our AI-powered detector to analyze suspicious emails, URLs, and messages.</p>
                <a href="{{ url_for('check') }}" class="btn btn-light btn-lg">
                    <i class="fas fa-robot me-2"></i>
                    Start AI Detection
                </a>
            </div>
        </div>
    </div>
</div>

<script>
// Quiz functionality removed - now using simpler warning signs display

// Animate tip cards on scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe all tip cards
document.querySelectorAll('.tip-card').forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(20px)';
    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(card);
});
</script>
{% endblock %}
